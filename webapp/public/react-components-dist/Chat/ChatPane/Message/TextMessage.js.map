{"version":3,"file":"TextMessage.js","names":["React","PropTypes","FaSolidIcon","SafeHtmlContainer","TextMessage","_ref","_messageData$metadata","isMine","isLast","messageData","props","_objectWithoutProperties","_excluded","sendTime","moment","created_at","format","urlify","text","urlRegex","replace","url","createElement","Fragment","className","html","content","widget","metadata","active_form","name","is_read","propTypes","bool","object","isRequired","element"],"sources":["../../../../react-components/Chat/ChatPane/Message/TextMessage.jsx"],"sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {FaSolidIcon} from \"../../../FontAwesome/FontAwesome\";\nimport {SafeHtmlContainer} from \"../../../SafeHtmlContainer/SafeHtmlContainer\";\n\nexport function TextMessage({isMine, isLast, messageData, ...props}) {\n    const sendTime = moment(messageData.created_at).format('HH:mm');\n\n    function urlify(text) {\n        var urlRegex = /\\s?(https?:\\/\\/[^\\s]+)/g;\n        return text.replace(urlRegex, function (url) {\n            return '<a href=\"' + url + '\" target=\"_blank\">' + url + '</a>';\n        });\n    }\n\n    return (\n        <React.Fragment>\n            <div className={\"d-flex \" + (isMine ? 'justify-content-end mine' : 'yours')}>\n                <div className={\"message \" + (isLast ? 'last' : '')}>\n                    <SafeHtmlContainer html={urlify(messageData.content)}/>\n                    {props.widget}\n                    <div className={\"metadata\"}>\n                        {\n                            !!messageData.metadata?.active_form &&\n                            <span className={\"bg-info rounded px-1 me-2\"}>{messageData.metadata.active_form}</span>\n                        }\n                        {sendTime}&nbsp;\n                        {\n                            isMine &&\n                            <FaSolidIcon name={messageData.is_read === '1' ? 'check-double' : 'check'}/>\n                        }\n                    </div>\n                </div>\n            </div>\n        </React.Fragment>\n    )\n}\n\n\nTextMessage.propTypes = {\n    isMine: PropTypes.bool,\n    isLast: PropTypes.bool,\n    messageData: PropTypes.object.isRequired,\n    widget: PropTypes.element\n}\n"],"mappings":";;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,SAAS,MAAM,YAAY;AAClC,SAAQC,WAAW,QAAO,kCAAkC;AAC5D,SAAQC,iBAAiB,QAAO,8CAA8C;AAE9E,OAAO,SAASC,WAAWA,CAAAC,IAAA,EAA0C;EAAA,IAAAC,qBAAA;EAAA,IAAxCC,MAAM,GAAAF,IAAA,CAANE,MAAM;IAAEC,MAAM,GAAAH,IAAA,CAANG,MAAM;IAAEC,WAAW,GAAAJ,IAAA,CAAXI,WAAW;IAAKC,KAAK,GAAAC,wBAAA,CAAAN,IAAA,EAAAO,SAAA;EAC9D,IAAMC,QAAQ,GAAGC,MAAM,CAACL,WAAW,CAACM,UAAU,CAAC,CAACC,MAAM,CAAC,OAAO,CAAC;EAE/D,SAASC,MAAMA,CAACC,IAAI,EAAE;IAClB,IAAIC,QAAQ,GAAG,yBAAyB;IACxC,OAAOD,IAAI,CAACE,OAAO,CAACD,QAAQ,EAAE,UAAUE,GAAG,EAAE;MACzC,OAAO,WAAW,GAAGA,GAAG,GAAG,oBAAoB,GAAGA,GAAG,GAAG,MAAM;IAClE,CAAC,CAAC;EACN;EAEA,oBACIrB,KAAA,CAAAsB,aAAA,CAACtB,KAAK,CAACuB,QAAQ,qBACXvB,KAAA,CAAAsB,aAAA;IAAKE,SAAS,EAAE,SAAS,IAAIjB,MAAM,GAAG,0BAA0B,GAAG,OAAO;EAAE,gBACxEP,KAAA,CAAAsB,aAAA;IAAKE,SAAS,EAAE,UAAU,IAAIhB,MAAM,GAAG,MAAM,GAAG,EAAE;EAAE,gBAChDR,KAAA,CAAAsB,aAAA,CAACnB,iBAAiB;IAACsB,IAAI,EAAER,MAAM,CAACR,WAAW,CAACiB,OAAO;EAAE,CAAC,CAAC,EACtDhB,KAAK,CAACiB,MAAM,eACb3B,KAAA,CAAAsB,aAAA;IAAKE,SAAS,EAAE;EAAW,GAEnB,CAAC,GAAAlB,qBAAA,GAACG,WAAW,CAACmB,QAAQ,cAAAtB,qBAAA,eAApBA,qBAAA,CAAsBuB,WAAW,kBACnC7B,KAAA,CAAAsB,aAAA;IAAME,SAAS,EAAE;EAA4B,GAAEf,WAAW,CAACmB,QAAQ,CAACC,WAAkB,CAAC,EAE1FhB,QAAQ,EAAC,MACV,EACIN,MAAM,iBACNP,KAAA,CAAAsB,aAAA,CAACpB,WAAW;IAAC4B,IAAI,EAAErB,WAAW,CAACsB,OAAO,KAAK,GAAG,GAAG,cAAc,GAAG;EAAQ,CAAC,CAE9E,CACJ,CACJ,CACO,CAAC;AAEzB;AAGA3B,WAAW,CAAC4B,SAAS,GAAG;EACpBzB,MAAM,EAAEN,SAAS,CAACgC,IAAI;EACtBzB,MAAM,EAAEP,SAAS,CAACgC,IAAI;EACtBxB,WAAW,EAAER,SAAS,CAACiC,MAAM,CAACC,UAAU;EACxCR,MAAM,EAAE1B,SAAS,CAACmC;AACtB,CAAC","ignoreList":[]}