{"version":3,"file":"AiAssistantChatRoomTextBox.js","names":["React","FaSolidIcon","AiAssistantSpeechRecognitionButton","ASSISTANT_MODE_PROCEDURAL","ASSISTANT_MODE_DECLARATIVE","ASSISTANT_MODES","value","label","createElement","name","AiAssistantChatRoomTextBox","onModeChange","initialMode","props","modeBtnStyle","width","height","_React$useState","useState","_React$useState2","_slicedToArray","mode","setMode","handleModeChange","newMode","handleTextRecognition","text","onRef","current","oldValue","onChange","target","onSubmit","Fragment","className","_extends","ref","placeholder","lang","onTextRecognition","type"],"sources":["../../react-components/AiAssistant/AiAssistantChatRoomTextBox.jsx"],"sourcesContent":["import React from \"react\";\nimport {FaSolidIcon} from \"../FontAwesome/FontAwesome\";\nimport {AiAssistantSpeechRecognitionButton} from \"./AiAssistantSpeechRecognitionButton\";\n\nexport const ASSISTANT_MODE_PROCEDURAL = 'PROCEDURAL';\nexport const ASSISTANT_MODE_DECLARATIVE = 'DECLARATIVE';\n\nconst ASSISTANT_MODES = [\n    {\n        value: ASSISTANT_MODE_PROCEDURAL,\n        label: <span><FaSolidIcon name={\"robot\"}/> Fai eseguire un'azione a Genny</span>\n    },\n    {\n        value: ASSISTANT_MODE_DECLARATIVE,\n        label: <span><FaSolidIcon name={\"question\"}/> Fai delle domande a Genny</span>\n    },\n]\n\n\nexport function AiAssistantChatRoomTextBox(onModeChange, initialMode) {\n    return function (props) {\n\n        const modeBtnStyle = {\n            width: 40,\n            height: 40,\n        }\n\n        const [mode, setMode] = React.useState(initialMode || ASSISTANT_MODE_DECLARATIVE);\n\n        const handleModeChange = newMode => {\n            initialMode = mode;\n            setMode(newMode);\n            onModeChange(newMode);\n        }\n\n        const handleTextRecognition = text => {\n            if (props.onRef && props.onRef.current) {\n                let oldValue = props.onRef.current.value;\n                props.onRef.current.value = oldValue ? oldValue + ' ' + text : text;\n                props.onChange({target: props.onRef.current});\n                if (props.onSubmit) props.onSubmit();\n            }\n        }\n\n        return <React.Fragment>\n            <div className={\"flex-grow-1\"}>\n                <div className={\"d-flex align-items-center border rounded-pill py-1 pl-1 pr-2\"}>\n                    <input ref={props.onRef} {...props} className={\"form-control rounded-0 border-0\"}\n                           placeholder={\"Write something to Italo\"}/>\n                    <AiAssistantSpeechRecognitionButton className={\"btn btn-link text-muted\"} lang={'it-IT'}\n                                                        onTextRecognition={handleTextRecognition} type={\"button\"}>\n                        <FaSolidIcon name={\"microphone\"}/>\n                    </AiAssistantSpeechRecognitionButton>\n                </div>\n            </div>\n        </React.Fragment>\n\n    }\n}\n\n\n"],"mappings":";;;;;;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,WAAW,QAAO,4BAA4B;AACtD,SAAQC,kCAAkC,QAAO,sCAAsC;AAEvF,OAAO,IAAMC,yBAAyB,GAAG,YAAY;AACrD,OAAO,IAAMC,0BAA0B,GAAG,aAAa;AAEvD,IAAMC,eAAe,GAAG,CACpB;EACIC,KAAK,EAAEH,yBAAyB;EAChCI,KAAK,eAAEP,KAAA,CAAAQ,aAAA,4BAAMR,KAAA,CAAAQ,aAAA,CAACP,WAAW;IAACQ,IAAI,EAAE;EAAQ,CAAC,CAAC,mCAAqC;AACnF,CAAC,EACD;EACIH,KAAK,EAAEF,0BAA0B;EACjCG,KAAK,eAAEP,KAAA,CAAAQ,aAAA,4BAAMR,KAAA,CAAAQ,aAAA,CAACP,WAAW;IAACQ,IAAI,EAAE;EAAW,CAAC,CAAC,8BAAgC;AACjF,CAAC,CACJ;AAGD,OAAO,SAASC,0BAA0BA,CAACC,YAAY,EAAEC,WAAW,EAAE;EAClE,OAAO,UAAUC,KAAK,EAAE;IAEpB,IAAMC,YAAY,GAAG;MACjBC,KAAK,EAAE,EAAE;MACTC,MAAM,EAAE;IACZ,CAAC;IAED,IAAAC,eAAA,GAAwBjB,KAAK,CAACkB,QAAQ,CAACN,WAAW,IAAIR,0BAA0B,CAAC;MAAAe,gBAAA,GAAAC,cAAA,CAAAH,eAAA;MAA1EI,IAAI,GAAAF,gBAAA;MAAEG,OAAO,GAAAH,gBAAA;IAEpB,IAAMI,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAGC,OAAO,EAAI;MAChCZ,WAAW,GAAGS,IAAI;MAClBC,OAAO,CAACE,OAAO,CAAC;MAChBb,YAAY,CAACa,OAAO,CAAC;IACzB,CAAC;IAED,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAqBA,CAAGC,IAAI,EAAI;MAClC,IAAIb,KAAK,CAACc,KAAK,IAAId,KAAK,CAACc,KAAK,CAACC,OAAO,EAAE;QACpC,IAAIC,QAAQ,GAAGhB,KAAK,CAACc,KAAK,CAACC,OAAO,CAACtB,KAAK;QACxCO,KAAK,CAACc,KAAK,CAACC,OAAO,CAACtB,KAAK,GAAGuB,QAAQ,GAAGA,QAAQ,GAAG,GAAG,GAAGH,IAAI,GAAGA,IAAI;QACnEb,KAAK,CAACiB,QAAQ,CAAC;UAACC,MAAM,EAAElB,KAAK,CAACc,KAAK,CAACC;QAAO,CAAC,CAAC;QAC7C,IAAIf,KAAK,CAACmB,QAAQ,EAAEnB,KAAK,CAACmB,QAAQ,CAAC,CAAC;MACxC;IACJ,CAAC;IAED,oBAAOhC,KAAA,CAAAQ,aAAA,CAACR,KAAK,CAACiC,QAAQ,qBAClBjC,KAAA,CAAAQ,aAAA;MAAK0B,SAAS,EAAE;IAAc,gBAC1BlC,KAAA,CAAAQ,aAAA;MAAK0B,SAAS,EAAE;IAA+D,gBAC3ElC,KAAA,CAAAQ,aAAA,UAAA2B,QAAA;MAAOC,GAAG,EAAEvB,KAAK,CAACc;IAAM,GAAKd,KAAK;MAAEqB,SAAS,EAAE,iCAAkC;MAC1EG,WAAW,EAAE;IAA2B,EAAC,CAAC,eACjDrC,KAAA,CAAAQ,aAAA,CAACN,kCAAkC;MAACgC,SAAS,EAAE,yBAA0B;MAACI,IAAI,EAAE,OAAQ;MACpDC,iBAAiB,EAAEd,qBAAsB;MAACe,IAAI,EAAE;IAAS,gBACzFxC,KAAA,CAAAQ,aAAA,CAACP,WAAW;MAACQ,IAAI,EAAE;IAAa,CAAC,CACD,CACnC,CACJ,CACO,CAAC;EAErB,CAAC;AACL","ignoreList":[]}